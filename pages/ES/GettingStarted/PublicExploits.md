---
layout: default
---

# Public Exploits

Una vez que identificamos los servicios que se ejecutan en los puertos identificados a partir de nuestro escaneo con nmap, el primer paso es buscar si alguna de las aplicaciones o servicios tiene vulnerabilidades públicas. Se pueden encontrar exploits públicos para aplicaciones web y otras aplicaciones que se ejecutan en puertos abiertos, como SSH o ftp.

## Intenta identificar los servicios que se ejecutan en el servidor anterior y luego intenta buscar para encontrar exploits públicos para explotarlos. Una vez hecho, intenta obtener el contenido del archivo '/flag.txt'. (nota: el servidor web puede tardar unos segundos en iniciarse)

Para comenzar a establecer un punto de ataque solido podriamos visualizar la direccion victima en cualquier navegador para empezar a descubrir posibles vectores de ataque.

![pagina web objetivo!](/assets/images/PublicExploits/01.png "Visualizacion de la pagina web objetivo")

Como podemos observar es una pagina web WordPress con un articulo que habla de un plugin para hacer backups, lo que podemos usar como posible vector de ataque.

Para continuar con nuestro ataque a partir de aqui tendriamos dos posibles caminos a escoger:

 1. Intentar explotar alguna vulnerabilidad del plugin con metaexploit.
 2. Explotar alguna vulnerabilidad que encontremos programando nuestro propio script.

Nosotros usaremos la primera via usando metaxploit. Comenzamos abriendo una terminal y teclando msfconsole.

![iniciando metaexploit!](/assets/images/PublicExploits/02.png "Iniciando metaexploit desde la terminal")

Una vez abierto metaexploit procederemos a buscar algun exploit relacionado con el plugin que tenemos como posible vector de ataque.

![buscando exploit!](/assets/images/PublicExploits/03.png "Buscando exploit para usar contra nuestro objetivo")

Con el listado en pantalla y mirando todos los exploits vemos que hay un exploit que nos permite visualizar archivos, como el ejercicio nos pide que visualizemos el contenido de un archivo podemos usar ese exploit para leer nuestro archivo de texto que contiene nuestra bandera.

Para seleccionar nuestro exploit para poder configurarlo y finalmente usarlo tecleamos en terminal ''use'' y el numero al que pertenece el epxloit en el listado en este caso el numero 3.

Una vez seleccionado el exploit procederemos a configurarlo, para ver los parametros necesarios para poder ejecutar el exploit tendremos que teclear ''show options'' en la terminal.

![investigando exploit!](/assets/images/PublicExploits/04.png "Investigando configuraciones del exploit seleccionado")

Como podemos ver tiene varios parametros necesarios para que el exploit se pueda ejecutar, nosotros pondremos el foco en 3 parametros:

 - FILEPATH: Donde indicaremos la ruta del archivo que queramos leer.
 - RHOSTS: Donde pondremos la IP objetivo
 - RPORT: Donde indicaremos el puerto por el que queremos atacar.

![configurando exploit!](/assets/images/PublicExploits/05.png "Añadiendo parametros al exploit")

Configuraremos el exploit como se ve en la imagen de arriba añadiendo los 3 que hemos comentado con los datos correspondientes.

Finalmente ejecutamos el exploit y copiamos la ruta donde se ha guardado nuestro archivo.

![ejecutando exploit!](/assets/images/PublicExploits/06.png "Ejecutando el exploit")

Usamos cualquier comando para leer archivos txt y podremos visualizar nuestra flag.

![flag!](/assets/images/PublicExploits/07.png "Flag del ejercicio.")

[Ir a la selección de ejercicios](../GettingStarted.md)
